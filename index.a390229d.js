!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){r[e]=n},n.parcelRequired7c6=a);var i=a("7Sf3J"),o=a("8x2sk"),s=a("bz3TN"),c=a("8kBMg"),l=a("gyWj4"),u=a("aHxE2"),d=a("9Isww"),f=a("8MBJY"),p=a("a2hTj");i=a("7Sf3J");function m(){i.refs.container.innerHTML=""}var v=a("5vsmo"),g=function(){"use strict";function n(){e(f)(this,n);var t=(new Date).getFullYear();document.querySelector("#date-filter").innerHTML=function(){for(var e='<option value="" selected data-text="yearsFilter">Years</option>',n=t;n>=1900;n-=1)e+='<option value="'.concat(n,'">').concat(n,"</option>");return e}()}return e(p)(n,[{key:"ratingFilterOnChenge",value:function(e){var n=e.target.value;window.filmoteka.filterByRating=void 0===n?n:+n,window.loader(),filmoteka.fetchFilms({region:"",page:1,option:"/discover/movie"}).then((function(e){m(),(0,v.createFilmCardMarkup)(e.results)})).finally((function(){return window.loaderRemove()}))}},{key:"dataFilterOnChange",value:function(e){var n=e.target.value;window.filmoteka.dataFilter=n,filmoteka.fetchFilms({region:"",page:1,option:"/discover/movie"}).then((function(e){m(),(0,v.createFilmCardMarkup)(e.results)}))}}]),n}(),h=a("bpxeT"),b=a("2TvXO");i=a("7Sf3J");function w(e){var n=e.page,t=e.total_pages;i.refs.boxNumbersPage.innerHTML="";var r=[];if(t>9&&n<6){r.push('<div class="container__numbers-arrow-box"><span class="container__numbers-arrow-left"></span></div>');for(var a=1;a<=t;a+=1){if(a>8){r.push('<span class="container__numbers-span">...</span>'),r.push('<li class="container__numbers-item" data-page="'.concat(t,'">').concat(t,"</li>"));break}r.push('<li class="container__numbers-item" data-page="'.concat(a,'">').concat(a,"</li>"))}r.push('<div class="container__numbers-arrow-box"><span class="container__numbers-arrow-right"></span></div>'),i.refs.boxNumbersPage.insertAdjacentHTML("beforeend",r.join(""))}if(t<9){for(var o=1;o<=t&&!(o>9);o+=1)r.push('<li class="container__numbers-item" data-page="'.concat(o,'">').concat(o,"</li>"));i.refs.boxNumbersPage.insertAdjacentHTML("beforeend",r.join(""))}if(t>9&&n>=6&&n<t-6){r.push('<div class="container__numbers-arrow-box"><span class="container__numbers-arrow-left"></span></div>'),r.push('<li class="container__numbers-item" data-page="1">1</li>'),r.push('<span class="container__numbers-span">...</span>');for(var s=n-2;s<n;s+=1)r.push('<li class="container__numbers-item" data-page="'.concat(s,'">').concat(s,"</li>"));r.push('<li class="container__numbers-item" data-page="'.concat(n,'">').concat(n,"</li>"));for(var c=n+1;c<n+3;c+=1)r.push('<li class="container__numbers-item" data-page="'.concat(c,'">').concat(c,"</li>"));r.push('<span class="container__numbers-span">...</span>'),r.push('<li class="container__numbers-item" data-page="'.concat(t,'">').concat(t,"</li>")),r.push('<div class="container__numbers-arrow-box"><span class="container__numbers-arrow-right"></span></div>'),i.refs.boxNumbersPage.insertAdjacentHTML("beforeend",r.join(""))}if(t>9&&n>t-6){r.push('<div class="container__numbers-arrow-box"><span class="container__numbers-arrow-right"></span></div>');for(var l=t;l>=t-8;l-=1)r.push('<li class="container__numbers-item" data-page="'.concat(l,'">').concat(l,"</li>"));r.push('<span class="container__numbers-span">...</span>'),r.push('<li class="container__numbers-item" data-page="1">1</li>'),r.push('<div class="container__numbers-arrow-box"><span class="container__numbers-arrow-left"></span></div>'),i.refs.boxNumbersPage.insertAdjacentHTML("beforeend",r.reverse().join(""))}}function _(e){var n=e.page;document.querySelector('[data-page="'.concat(n,'"]')).classList.add("is-active-page")}v=a("5vsmo"),i=a("7Sf3J"),s=a("bz3TN");function y(e){(function(){return x.apply(this,arguments)})(e).then((function(e){return m(),(0,v.createFilmCardMarkup)(e.results),e})).then((function(e){w(e),_(e),function(e){var n=e.page,t=e.total_pages;i.refs.boxNumbersPage.firstElementChild.addEventListener("click",(function(){n>1&&y(n-1)})),i.refs.boxNumbersPage.lastElementChild.addEventListener("click",(function(){n<t&&y(n+1)}))}(e)}))}function x(){return x=e(h)(e(b).mark((function n(){var t,r,a,i=arguments;return e(b).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:1,r={option:"/trending/movie/day",page:t},(0,s.makeLangParam)(r),window.loader(),e.prev=5,e.next=8,window.filmoteka.fetchFilms(r);case 8:return a=e.sent,window.loaderRemove(),e.abrupt("return",a);case 13:e.prev=13,e.t0=e.catch(5),console.log(e.t0),window.loaderRemove();case 17:case"end":return e.stop()}}),n,null,[[5,13]])}))),x.apply(this,arguments)}i.refs.boxNumbersPage.addEventListener("click",(function(e){"LI"===e.target.nodeName&&y(e.target.textContent)}));h=a("bpxeT"),b=a("2TvXO");function k(){return L.apply(this,arguments)}function L(){return(L=e(h)(e(b).mark((function n(){var t,r,a;return e(b).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/trending/movie/week",t={option:"/trending/movie/week"},e.next=4,window.filmoteka.fetchFilms(t);case 4:return r=e.sent,a="",r.results.forEach((function(e){var n="https://image.tmdb.org/t/p/w500".concat(e.poster_path);null===e.poster_path&&(modalPoster="https://sd.keepcalms.com/i-w600/keep-calm-poster-not-found.jpg"),a+='<li class="slider__item">\n                   <img class="slider-film__img" src="'.concat(n,'" alt="poster" loading="lazy" data-id=').concat(e.id,'>\n                   <div class="film-card__box-info slider-film__title">\n                     <h3 class="film-card__title ">').concat(e.original_title,"</h3>\n                   </div>\n                         </li>")})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function T(){return(T=e(h)(e(b).mark((function n(){var t,r,a,i,o,s,c,l,u,d,f,p,m,v;return e(b).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,r=7,a=1,i=document.querySelector(".slider-container"),o=document.querySelector(".slider__track"),s=document.querySelector(".btn-prev"),c=document.querySelector(".btn-next"),e.next=9,k();case 9:l=e.sent,document.querySelector(".js-slider-container").innerHTML=l,u=document.querySelectorAll(".slider__item"),d=u.length,f=i.clientWidth/r,p=a*f,u.forEach((function(e){e.style.minWidth="".concat(f,"px")})),c.addEventListener("click",(function(){var e=d-(Math.abs(t)+r*f)/f;t-=e>=a?p:e*f,m(),v()})),s.addEventListener("click",(function(){console.log(c);var e=Math.abs(t)/f;t+=e>=a?p:e*f,m(),v()})),v=function(){s.disabled=0===t,c.disabled=t<=-(d-r)*f},(m=function(){o.style.transform="translateX(".concat(t,"px)")})(),v();case 23:case"end":return e.stop()}}),n)})))).apply(this,arguments)}var F=a("bUH0J");a("iU1Pc");h=a("bpxeT"),b=a("2TvXO"),i=a("7Sf3J");a("8x2sk");v=a("5vsmo");a("iU1Pc");s=a("bz3TN");function M(){return(M=e(h)(e(b).mark((function n(t){var r,a,o;return e(b).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"/search/movie",r=i.refs.searchInput.value,console.log(r),a={option:"/search/movie",nameFilm:"&query=".concat(encodeURIComponent(r.trim()))},""!==r){e.next=9;break}return i.refs.massages.classList.remove("hidden"),O(),e.abrupt("return");case 9:return(0,s.makeLangParam)(a),window.loader(),e.prev=11,e.next=14,window.filmoteka.fetchFilms(a);case 14:if(0!==(o=e.sent).results.length){e.next=21;break}return i.refs.massages.classList.remove("hidden"),O(),i.refs.searchForm.reset(),window.loaderRemove(),e.abrupt("return");case 21:console.log(o),m(),(0,v.createFilmCardMarkup)(o.results),i.refs.searchForm.reset(),i.refs.modalOffer.innerHTML="",window.loaderRemove(),e.next=33;break;case 29:e.prev=29,e.t0=e.catch(11),console.log(e.t0),window.loaderRemove();case 33:case"end":return e.stop()}}),n,null,[[11,29]])})))).apply(this,arguments)}function O(){setTimeout((function(){i.refs.massages.classList.add("hidden")}),5e3)}i.refs.searchForm.addEventListener("submit",(function(e){return M.apply(this,arguments)}));h=a("bpxeT"),b=a("2TvXO");a("7Sf3J"),a("8x2sk"),a("7Sf3J");l=a("gyWj4"),h=a("bpxeT"),b=a("2TvXO"),i=a("7Sf3J");a("8x2sk");h=a("bpxeT"),b=a("2TvXO");var S=a("dGF2p"),j="https://i.postimg.cc/Y0NKgxRL/CDBD31-CB-2-C43-438-F-A140-5-CBA7-C480-AB3.jpg";function E(e){return C.apply(this,arguments)}function C(){return(C=e(h)(e(b).mark((function n(t){var r,a,i,o,s,c,l,u,d,f;return e(b).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=t.poster_path,i=t.genre_ids,o=t.title,s=t.release_date,c=t.vote_average,l="",e.prev=2,e.next=5,(0,S.getGenres)();case 5:u=e.sent,l=u.filter((function(e){return i.includes(e.id)})).map((function(e){return e.name})).join(", "),d=localStorage.getItem("siteOptions"),""===l&&"ua"===d&&(l="Потрібно подивитись"),""===l&&"en"===d&&(l="Need watch"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:return f=a?"https://image.tmdb.org/t/p/w500".concat(a):j,e.abrupt("return",'<li class="input-offer__item" data-id="'.concat(r,'">              \n              <img class="input-offer__img" src="').concat(f,'" alt="').concat(o,'"\n              loading="lazy" width="70">              \n              <div class="input-offer__desc">                        \n                  <h3 class="input-offer__title">').concat(o,'</h3>\n                  <p class="input-offer__genres">').concat(l,'</p>\n                  <p id="release_date">\n                  ').concat(s,'<span class="film-card__rating input-offer__rating">').concat(c,"</span>\n                  </p>                      \n              </div>              \n          </li>"));case 18:case"end":return e.stop()}}),n,null,[[2,12]])})))).apply(this,arguments)}s=a("bz3TN");var N={},q=a("l5bVx"),H="Expected a function",B=/^\s+|\s+$/g,I=/^[-+]0x[0-9a-f]+$/i,P=/^0b[01]+$/i,R=/^0o[0-7]+$/i,J=parseInt,X="object"==typeof n&&n&&n.Object===Object&&n,A="object"==typeof self&&self&&self.Object===Object&&self,W=X||A||Function("return this")(),D=Object.prototype.toString,U=Math.max,z=Math.min,Y=function(){return W.Date.now()};function $(e,n,t){var r,a,i,o,s,c,l=0,u=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError(H);function p(n){var t=r,i=a;return r=a=void 0,l=n,o=e.apply(i,t)}function m(e){return l=e,s=setTimeout(g,n),u?p(e):o}function v(e){var t=e-c;return void 0===c||t>=n||t<0||d&&e-l>=i}function g(){var e=Y();if(v(e))return h(e);s=setTimeout(g,function(e){var t=n-(e-c);return d?z(t,i-(e-l)):t}(e))}function h(e){return s=void 0,f&&r?p(e):(r=a=void 0,o)}function b(){var e=Y(),t=v(e);if(r=arguments,a=this,c=e,t){if(void 0===s)return m(c);if(d)return s=setTimeout(g,n),p(c)}return void 0===s&&(s=setTimeout(g,n)),o}return n=V(n)||0,G(t)&&(u=!!t.leading,i=(d="maxWait"in t)?U(V(t.maxWait)||0,n):i,f="trailing"in t?!!t.trailing:f),b.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=c=a=s=void 0},b.flush=function(){return void 0===s?o:h(Y())},b}function G(n){var t=void 0===n?"undefined":e(q)(n);return!!n&&("object"==t||"function"==t)}function V(n){if("number"==typeof n)return n;if(function(n){return"symbol"==(void 0===n?"undefined":e(q)(n))||function(e){return!!e&&"object"==typeof e}(n)&&"[object Symbol]"==D.call(n)}(n))return NaN;if(G(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=G(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(B,"");var r=P.test(n);return r||R.test(n)?J(n.slice(2),r?2:8):I.test(n)?NaN:+n}N=function(e,n,t){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError(H);return G(t)&&(r="leading"in t?!!t.leading:r,a="trailing"in t?!!t.trailing:a),$(e,n,{leading:r,maxWait:n,trailing:a})};function K(){return(K=e(h)(e(b).mark((function n(t){var r,a,o,c,l,u;return e(b).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=t.target.value.trim()).length<3)){e.next=5;break}return i.refs.searchInput.classList.add("not-valid"),i.refs.modalOffer.innerHTML="",e.abrupt("return");case 5:return i.refs.modalOffer.innerHTML="",i.refs.searchInput.classList.remove("not-valid"),"/search/movie",a={option:"/search/movie",nameFilm:"&query=".concat(encodeURIComponent(r))},e.prev=9,(0,s.makeLangParam)(a),e.next=13,window.filmoteka.fetchFilms(a);case 13:if((o=e.sent).results.sort((function(e,n){return n.vote_average-e.vote_average})),c=3,0!==o.results.length){e.next=18;break}return e.abrupt("return");case 18:o.results.length<c&&(c=o.results.length),l="",u=0;case 21:if(!(u<c)){e.next=29;break}return e.t0=l,e.next=25,E(o.results[u]);case 25:l=e.t0+=e.sent;case 26:u+=1,e.next=21;break;case 29:i.refs.modalOffer.insertAdjacentHTML("beforeend",l),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(9),console.log(e.t1);case 35:case"end":return e.stop()}}),n,null,[[9,32]])})))).apply(this,arguments)}i.refs.searchInput.addEventListener("input",N((function(e){return K.apply(this,arguments)}),500)),i.refs.modalOffer.addEventListener("click",(function(e){if("IMG"===e.target.nodeName||"LI"===e.target.nodeName){i.refs.modalOffer.innerHTML="",i.refs.searchForm.reset(),console.log(e.target.dataset.id),i.refs.modalOverlay.classList.remove("visually-hidden");var n=e.target.dataset.id;window.modal.openModal(n),i.refs.modalOverlay.dataset.modal=n}}));var Q=document.getElementById("modal-team"),Z=document.getElementById("modal-team-Btn"),ee=document.getElementsByClassName("close")[0];Z.onclick=function(){Q.style.display="block"},ee.onclick=function(){Q.style.display="none"},window.onclick=function(e){e.target==Q&&(Q.style.display="none")};h=a("bpxeT"),f=a("8MBJY"),p=a("a2hTj"),b=a("2TvXO"),a("dIxxU");var ne=document.querySelector(".marquee-wrapper"),te=document.querySelector(".marquee"),re=ne.offsetWidth,ae=te.scrollWidth;setInterval((function(){var e=getComputedStyle(te).transform.split(",");e=void 0===e[4]?-1:parseFloat(e[4])-1,te.style.transform=-e>=ae?"translateX("+re+"px)":"translateX("+e+"px)"}),40);var ie=a("j0SV0");window.filmoteka=new(0,o.Filmoteka),window.fireBase=new(0,l.FireBaseData),window.movieLibrary=new(0,c.MovieLibrary),window.filterHendler=new g,window.modal=new(0,F.Modal),window.loader=ie.spinerStart,window.loaderRemove=ie.spinerStop,i.refs.login.addEventListener("click",(function(e){window.fireBase.login()})),window.addEventListener("scroll",u.hidenButton),document.querySelector(".btn-up").addEventListener("click",u.upClick),(0,s.setLagnuage)(),document.querySelector(".translate").addEventListener("click",(function(){(0,s.changeLagnuage)(),window.movieLibrary.updateLang(),location.reload()})),(0,d.setColor)(),i.refs.colorSelector.addEventListener("click",d.changeColor),y(),document.querySelector("#rating-filter").addEventListener("change",window.filterHendler.ratingFilterOnChenge),document.querySelector("#date-filter").addEventListener("change",window.filterHendler.dataFilterOnChange),function(){T.apply(this,arguments)}()}();
//# sourceMappingURL=index.a390229d.js.map
